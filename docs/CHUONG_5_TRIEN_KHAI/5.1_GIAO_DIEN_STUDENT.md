# 5.1.3.D - DASHBOARD STUDENT (Sinh viên)

**File:** `frontend/src/pages/student/DashboardStudentModern.js`

## a) Mô tả

Dashboard Student được thiết kế tập trung vào trải nghiệm sinh viên, giúp họ dễ dàng tìm kiếm, đăng ký hoạt động, theo dõi điểm rèn luyện và quản lý lịch trình tham gia. Giao diện thân thiện, trực quan với nhiều visualization để động viên sinh viên tham gia.

## b) Các thành phần chính

### 1. Header Section

```
- Tiêu đề: "Dashboard Sinh viên"
- Greeting: "Xin chào, [Tên sinh viên]! 👋"
- Semester selector
- Notification bell với badge count
```

### 2. Summary Card (Hero Card)

```
┌────────────────────────────────────────────────────────────┐
│  TỔNG QUAN ĐIỂM RÈN LUYỆN                                  │
│                                                             │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐    │
│  │ 🏆 Tổng điểm │  │ 📊 Tiến độ   │  │ 🎯 Mục tiêu  │    │
│  │    78/100    │  │     78%      │  │    100 đ     │    │
│  └──────────────┘  └──────────────┘  └──────────────┘    │
│                                                             │
│  Progress Bar: ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░ 78%                   │
│                                                             │
│  Xếp loại: 🌟 TỐT (70-89 điểm)                            │
│  Hoạt động đã tham gia: 12 hoạt động                       │
└────────────────────────────────────────────────────────────┘

Colors: Gradient from blue to purple
Progress bar: Green if >= 80%, Orange if 50-79%, Red if < 50%
Icons: Trophy, Chart, Target with animations
```

### 3. Criteria Progress Cards (5 cards)

**Tiêu chí 1: Ý thức và kết quả học tập**
```
Icon: 📚 (BookOpen)
Current: 20/25 điểm
Progress: 80%
Color: Blue (#3B82F6)
Progress bar: Blue gradient
Badge: "Tốt" if >= 80%
```

**Tiêu chí 2: Ý thức và kết quả chấp hành nội quy**
```
Icon: ⚖️ (Scale)
Current: 22/25 điểm
Progress: 88%
Color: Green (#10B981)
Progress bar: Green gradient
Badge: "Xuất sắc" if >= 90%
```

**Tiêu chí 3: Hoạt động phong trào, tình nguyện**
```
Icon: 🤝 (HandHeart)
Current: 18/25 điểm
Progress: 72%
Color: Orange (#F59E0B)
Progress bar: Orange gradient
Badge: "Khá" if 70-79%
```

**Tiêu chí 4: Phẩm chất công dân và quan hệ xã hội**
```
Icon: 🌟 (Star)
Current: 15/20 điểm
Progress: 75%
Color: Purple (#8B5CF6)
Progress bar: Purple gradient
Badge: "Khá"
```

**Tiêu chí 5: Hoạt động khen thưởng, kỷ luật**
```
Icon: 🏆 (Trophy)
Current: 3/5 điểm
Progress: 60%
Color: Red (#EF4444)
Progress bar: Red gradient
Badge: "Trung bình" if < 70%
```

### 4. Quick Actions (4 cards)

```
Card 1: "Tìm hoạt động"
  Icon: Search + Calendar
  Description: "Tìm hoạt động phù hợp để tham gia"
  Color: Blue
  Badge: "23 hoạt động mới"
  Button: "Khám phá"
  Action: Navigate to /student/activities

Card 2: "Hoạt động của tôi"
  Icon: Activity
  Description: "Xem hoạt động đã đăng ký"
  Color: Green
  Badge: "3 sắp diễn ra"
  Button: "Xem danh sách"
  Action: Navigate to /student/my-activities

Card 3: "Điểm danh QR"
  Icon: QrCode
  Description: "Quét mã QR để điểm danh"
  Color: Purple
  Button: "Quét ngay"
  Action: Navigate to /student/qr-scanner

Card 4: "Xem điểm chi tiết"
  Icon: BarChart3
  Description: "Báo cáo điểm rèn luyện đầy đủ"
  Color: Orange
  Button: "Xem báo cáo"
  Action: Navigate to /student/scores
```

### 5. Upcoming Activities Section

```
Title: "Hoạt động sắp diễn ra"
Subtitle: "Đừng bỏ lỡ những hoạt động thú vị!"

Grid layout: 3 columns

Each card:
  ┌────────────────────────────────────┐
  │ [Thumbnail Image]                  │
  │                                    │
  │ 📅 Workshop AI & Machine Learning  │
  │ 📍 Hội trường A                    │
  │ ⏰ 15/10/2024 08:00                │
  │ 👥 45/50 người                     │
  │ ⭐ +10 điểm                        │
  │                                    │
  │ Status: [Đã đăng ký ✓]            │
  │ [Xem chi tiết →]                  │
  └────────────────────────────────────┘

Status badges:
  - "Còn chỗ" (Green) - Available slots
  - "Sắp đầy" (Orange) - Few slots left
  - "Đã đầy" (Red) - No slots
  - "Đã đăng ký" (Blue) - Already registered
  - "Sắp diễn ra" (Purple) - Starting soon

Pagination: 6 items per page
Filter: 
  - Loại: Tất cả | Học tập | Văn thể | Tình nguyện
  - Thời gian: Hôm nay | Tuần này | Tháng này
```

### 6. My Recent Activities Section

```
Title: "Hoạt động gần đây của tôi"
Subtitle: "Lịch sử tham gia"

Timeline view (vertical):
  ┌────────────────────────────────────────┐
  │ ● 10/10/2024                           │
  │ │ 📊 Workshop AI & ML                  │
  │ │ ✅ Đã tham gia | +10 điểm           │
  │ │ [Xem chi tiết] [Đánh giá ⭐]        │
  │ │                                      │
  │ ● 08/10/2024                           │
  │ │ ⚽ Giải bóng đá khoa                 │
  │ │ ⏰ Chờ duyệt                         │
  │ │ [Hủy đăng ký]                       │
  │ │                                      │
  │ ● 05/10/2024                           │
  │ │ 🌳 Trồng cây tình nguyện            │
  │ │ ✅ Đã tham gia | +5 điểm            │
  │ │ [Xem chi tiết] [Đánh giá ⭐]        │
  └────────────────────────────────────────┘

Status icons:
  - ✅ Green: Đã tham gia (attended)
  - ⏰ Orange: Chờ duyệt (pending approval)
  - ❌ Red: Từ chối (rejected)
  - 📅 Blue: Sắp diễn ra (upcoming)

Actions:
  - Xem chi tiết: Show activity details modal
  - Đánh giá: Rate activity (1-5 stars + comment)
  - Hủy đăng ký: Cancel registration (if pending/approved)
```

### 7. Points Chart

```
Chart type: Line + Area chart (Recharts)
Title: "Biểu đồ tích lũy điểm"

X-axis: Tháng (1-12)
Y-axis: Điểm tích lũy (0-100)

Data lines:
  - Line 1: Điểm tích lũy của bạn (blue area)
  - Line 2: Điểm TB lớp (gray dotted line)
  - Line 3: Mục tiêu 100 điểm (green dashed line)

Tooltip:
  - Tháng: X
  - Điểm của bạn: Y1
  - Điểm TB lớp: Y2
  - Chênh lệch: +/-Z

Legend: Show/hide toggles
Responsive: Height 300px on desktop, 200px on mobile

Interactive:
  - Hover to show tooltip
  - Click legend to toggle lines
```

### 8. Leaderboard Widget

```
Title: "Bảng xếp hạng lớp"
Subtitle: "Top 10 sinh viên có điểm cao nhất"

List items:
  1. 🥇 Nguyễn Văn A - 95 điểm ⭐⭐⭐⭐⭐
  2. 🥈 Trần Thị B - 92 điểm ⭐⭐⭐⭐⭐
  3. 🥉 Lê Văn C - 89 điểm ⭐⭐⭐⭐
  4. [4] Phạm Thị D - 87 điểm ⭐⭐⭐⭐
  5. [5] Hoàng Văn E - 85 điểm ⭐⭐⭐⭐
  ...
  15. [YOU] Sinh viên này - 78 điểm ⭐⭐⭐ ← Highlighted

Your rank: Highlighted with different background color
Rank badges:
  - Top 3: Gold/Silver/Bronze medals
  - Top 10: Star badges
  - Others: Number badges

Button: "Xem bảng xếp hạng đầy đủ"
```

### 9. Motivational Widget

```
Dynamic motivational messages based on points:

If points >= 90:
  ┌────────────────────────────────────┐
  │ 🎉 XUẤT SẮC!                       │
  │ Bạn đang ở top đầu! Tiếp tục phát │
  │ huy nhé! 💪                        │
  └────────────────────────────────────┘

If points 70-89:
  ┌────────────────────────────────────┐
  │ 🌟 TỐT LAO!                        │
  │ Còn 12 điểm nữa để đạt Xuất sắc!  │
  │ Tham gia thêm 2 hoạt động nhé! 🚀 │
  └────────────────────────────────────┘

If points 50-69:
  ┌────────────────────────────────────┐
  │ 💪 CỐ GẮNG LÊN!                    │
  │ Tham gia thêm hoạt động để tăng   │
  │ điểm nào! Bạn làm được! 💯         │
  └────────────────────────────────────┘

If points < 50:
  ┌────────────────────────────────────┐
  │ ⚠️ CẦN CỐ GẮNG!                    │
  │ Bạn cần 28 điểm để đạt Trung bình. │
  │ Hãy tham gia nhiều hoạt động hơn!  │
  │ [Tìm hoạt động ngay →]            │
  └────────────────────────────────────┘

Colors: Dynamic based on score range
Auto-refresh: Every time points update
```

## c) Layout

```
┌────────────────────────────────────────────────────────────────┐
│  DASHBOARD SINH VIÊN         Xin chào, Nguyễn Văn A! 👋       │
│  [Semester: HK1 2024-2025 ▼]                [🔔 3] [👤 Menu]  │
├────────────────────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────────────────────┐ │
│  │ TỔNG QUAN ĐIỂM RÈN LUYỆN                                 │ │
│  │ ┌─────────┐ ┌─────────┐ ┌─────────┐                     │ │
│  │ │🏆 78/100│ │📊 78%   │ │🎯 100đ  │                     │ │
│  │ └─────────┘ └─────────┘ └─────────┘                     │ │
│  │ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░ 78%                                │ │
│  │ Xếp loại: 🌟 TỐT | 12 hoạt động đã tham gia             │ │
│  └──────────────────────────────────────────────────────────┘ │
│                                                                 │
│  TIẾN ĐỘ THEO TIÊU CHÍ                                        │
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐     │
│  │📚 Học  │ │⚖️ Nội  │ │🤝 Tình │ │🌟 Phẩm │ │🏆 Khen │     │
│  │20/25   │ │22/25   │ │18/25   │ │15/20   │ │3/5     │     │
│  │▓▓▓▓░ 80│ │▓▓▓▓▓88 │ │▓▓▓░ 72 │ │▓▓▓░ 75 │ │▓▓░ 60  │     │
│  └────────┘ └────────┘ └────────┘ └────────┘ └────────┘     │
│                                                                 │
│  THAO TÁC NHANH                                                │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐        │
│  │🔍 Tìm HD │ │📋 HD của │ │📷 QR Scan│ │📊 Điểm   │        │
│  │[23 mới] │ │tôi [3]   │ │          │ │chi tiết  │        │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘        │
│                                                                 │
│  HOẠT ĐỘNG SẮP DIỄN RA                          [Filter ▼]   │
│  ┌────────┐ ┌────────┐ ┌────────┐                            │
│  │[IMG]   │ │[IMG]   │ │[IMG]   │                            │
│  │Workshop│ │Bóng đá │ │Tình    │                            │
│  │AI & ML │ │khoa    │ │nguyện  │                            │
│  │📍HT A  │ │📍Sân   │ │📍Công  │                            │
│  │⏰15/10 │ │⏰20/10  │ │viên    │                            │
│  │👥45/50 │ │👥30/40 │ │⏰25/10  │                            │
│  │⭐+10đ  │ │⭐+5đ   │ │👥50/60 │                            │
│  │[Đăng ký│ │[Còn chỗ│ │⭐+5đ   │                            │
│  │ ngay]  │ │]       │ │[Đăng ký│                            │
│  └────────┘ └────────┘ │]       │                            │
│                         └────────┘                            │
│                                                                 │
│  ┌─────────────────────────┐  ┌────────────────────────────┐ │
│  │ BIỂU ĐỒ TÍCH LŨY ĐIỂM   │  │ BẢNG XẾP HẠNG LỚP         │ │
│  │ [Line Chart]            │  │ 🥇 Nguyễn Văn A - 95đ     │ │
│  │ - Điểm của bạn          │  │ 🥈 Trần Thị B - 92đ       │ │
│  │ - Điểm TB lớp           │  │ 🥉 Lê Văn C - 89đ         │ │
│  │ - Mục tiêu              │  │ 4  Phạm Thị D - 87đ       │ │
│  │                         │  │ 5  Hoàng Văn E - 85đ      │ │
│  │                         │  │ ...                        │ │
│  │                         │  │ 15 [YOU] This SV - 78đ ✨ │ │
│  │                         │  │ [Xem đầy đủ →]            │ │
│  └─────────────────────────┘  └────────────────────────────┘ │
│                                                                 │
│  HOẠT ĐỘNG GẦN ĐÂY CỦA TÔI                     [Xem tất cả →]│
│  ● 10/10/2024                                                  │
│    📊 Workshop AI & ML                                         │
│    ✅ Đã tham gia | +10 điểm                                  │
│    [Chi tiết] [Đánh giá ⭐⭐⭐⭐⭐]                            │
│  ● 08/10/2024                                                  │
│    ⚽ Giải bóng đá khoa                                        │
│    ⏰ Chờ duyệt                                                │
│    [Hủy đăng ký]                                              │
└────────────────────────────────────────────────────────────────┘
```

## d) Interactions

### Đăng ký hoạt động workflow:

```
1. Browse activities list
   → Click "Xem chi tiết" on activity card
   
2. Activity detail modal/page:
   - Thumbnail gallery (swipe)
   - Tên hoạt động (title)
   - Mô tả đầy đủ (description)
   - Thông tin:
     - Loại: Học tập
     - Ngày: 15/10/2024 08:00-17:00
     - Địa điểm: Hội trường A
     - Người tổ chức: Lớp LT_CNTT_K19A
     - Số lượng: 45/50
     - Điểm: +10 điểm rèn luyện
   - Button: "Đăng ký tham gia" (primary, large)
   
3. Click "Đăng ký tham gia"
   → Show confirmation modal
   → "Xác nhận đăng ký tham gia hoạt động Workshop AI?"
   → Optional: Thêm ghi chú (textarea)
   → [Hủy] [Xác nhận]
   
4. Click "Xác nhận"
   → API call: POST /api/student/activities/:id/register
   → Show loading spinner
   → On success:
     - Toast: "Đăng ký thành công! Chờ phê duyệt"
     - Update UI: Button → "Đã đăng ký" (disabled, gray)
     - Add to "Hoạt động của tôi" list
     - Send notification to monitor/teacher
```

### Quét QR điểm danh workflow:

```
1. Click "Quét QR" từ dashboard
   → Navigate to /student/qr-scanner
   
2. QR Scanner page:
   - Camera preview (full screen)
   - Scan frame overlay (red square)
   - Flash toggle button
   - Instructions: "Đưa camera về phía mã QR"
   - Button: "Chọn ảnh từ thư viện" (alternative)
   
3. QR detected:
   → Auto-process QR data
   → API call: POST /api/student/attendance/scan
   → Show loading overlay
   
4. On success:
   → Success animation (green checkmark)
   → Confetti effect 🎉
   → Toast: "Điểm danh thành công! +10 điểm"
   → Show activity details:
     - Tên hoạt động
     - Điểm nhận được
     - Tổng điểm hiện tại
   → Button: "Hoàn thành" → Navigate back to dashboard
   
5. On error:
   → Error message:
     - "QR code không hợp lệ"
     - "QR code đã hết hạn"
     - "Bạn chưa đăng ký hoạt động này"
     - "Đã điểm danh rồi"
   → Button: "Quét lại"
```

### Xem điểm chi tiết workflow:

```
1. Click "Xem điểm chi tiết"
   → Navigate to /student/scores
   
2. Scores page sections:
   A. Summary header (same as dashboard)
   
   B. Points breakdown table:
      ┌────────────────────────────────────────────┐
      │ Tiêu chí         │ Điểm │ Tối đa │ Tỷ lệ   │
      ├────────────────────────────────────────────┤
      │ Học tập          │  20  │  25    │ 80% ▓▓▓│
      │ Nội quy          │  22  │  25    │ 88% ▓▓▓│
      │ Tình nguyện      │  18  │  25    │ 72% ▓▓░│
      │ Phẩm chất        │  15  │  20    │ 75% ▓▓▓│
      │ Khen thưởng      │   3  │   5    │ 60% ▓▓░│
      └────────────────────────────────────────────┘
   
   C. Activity history table:
      - Columns: STT, Tên HD, Loại, Ngày, Điểm, Trạng thái
      - Filter: Theo loại, theo tháng
      - Sort: Mới nhất, cũ nhất, điểm cao-thấp
      - Pagination: 20 items per page
      
   D. Export button: "Tải báo cáo PDF" or "Xuất Excel"
```

## e) Responsive behavior

**Mobile (< 768px):**
- Summary card: Stack vertically
- Criteria cards: 2 columns or carousel
- Quick actions: 2 columns
- Upcoming activities: 1 column (list view)
- Chart: Reduce to 200px height
- Leaderboard: Show top 5 only
- Timeline: Full width

**Tablet (768px - 1024px):**
- Summary card: 3 columns
- Criteria cards: 3 columns or 2+3 layout
- Quick actions: 2 or 4 columns
- Upcoming activities: 2 columns
- Chart + Leaderboard: Stack vertically

**Desktop (> 1024px):**
- Full 3-column layout
- Criteria cards: 5 columns (1 row)
- Upcoming activities: 3 columns
- Chart + Leaderboard: Side by side (60/40 or 50/50)

## f) Special features

### Gamification Elements

```
1. Achievement Badges:
   - "Người mới": Tham gia hoạt động đầu tiên
   - "Năng động": Tham gia 5 hoạt động
   - "Tích cực": Tham gia 10 hoạt động
   - "Xuất sắc": Đạt 90+ điểm
   - "Đa dạng": Tham gia đủ 5 loại hoạt động
   
2. Progress Streaks:
   - "🔥 Chuỗi 3 tuần liên tiếp tham gia hoạt động!"
   - "⭐ Tham gia đủ mọi loại hoạt động trong tháng!"
   
3. Level System:
   - Level 1: Newbie (0-30 điểm)
   - Level 2: Bronze (31-50 điểm)
   - Level 3: Silver (51-70 điểm)
   - Level 4: Gold (71-89 điểm)
   - Level 5: Platinum (90-100 điểm)
   
   Display: Badge với màu tương ứng trong profile
```

### Personalized Recommendations

```
Based on:
  - Lịch sử tham gia
  - Điểm yếu (criteria có điểm thấp)
  - Hoạt động trending
  - Hoạt động bạn bè tham gia

Widget: "Gợi ý cho bạn"
  ┌────────────────────────────────────┐
  │ 💡 GỢI Ý CHO BẠN                   │
  │                                    │
  │ Bạn cần tham gia thêm hoạt động   │
  │ "Tình nguyện" để cân bằng điểm!   │
  │                                    │
  │ [Xem hoạt động Tình nguyện →]     │
  └────────────────────────────────────┘
```

### Real-time Updates

```
Polling / WebSocket for:
  - Registration approval status
  - New activity notifications
  - Points updates after attendance
  - Rank changes in leaderboard

Toast notifications:
  - "Đăng ký của bạn đã được phê duyệt! 🎉"
  - "Hoạt động 'Workshop AI' sắp bắt đầu trong 1 giờ ⏰"
  - "Bạn đã lên hạng trong bảng xếp hạng! 🚀"
```

## g) Loading states

```
Initial load:
  - Skeleton loader for summary card
  - Shimmer for criteria cards
  - Placeholder cards for activities

Lazy loading:
  - Infinite scroll for activities list
  - "Đang tải thêm..." spinner

Empty states:
  - No activities:
    Icon: 📅 Calendar (gray)
    Text: "Chưa có hoạt động nào"
    Subtitle: "Hãy đăng ký hoạt động để tham gia!"
    Button: "Tìm hoạt động"
    
  - No registered activities:
    Icon: 📋 Clipboard (gray)
    Text: "Bạn chưa đăng ký hoạt động nào"
    Button: "+ Đăng ký hoạt động đầu tiên"
```

## h) API endpoints used

```javascript
GET /api/dashboard/student
  Query: { semester }
  → Returns: summary, criteria progress, upcoming, recent

GET /api/student/activities
  Query: { type, status, page, limit }
  → Returns: Available activities to register

POST /api/student/activities/:id/register
  Body: { note }
  → Register for activity

DELETE /api/student/activities/:id/register
  → Cancel registration

GET /api/dashboard/activities/me
  Query: { semester }
  → Returns: My registered activities

POST /api/student/attendance/scan
  Body: { qr_data }
  → Check-in via QR code

GET /api/student/scores
  Query: { semester }
  → Returns: Detailed scores breakdown

GET /api/student/leaderboard
  Query: { semester, class }
  → Returns: Class leaderboard
```

---

**[Tiếp tục ở file: `5.2_CHUC_NANG_CHI_TIET.md`]**
