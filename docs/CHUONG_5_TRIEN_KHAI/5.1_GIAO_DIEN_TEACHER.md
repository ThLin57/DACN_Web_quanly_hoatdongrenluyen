# 5.1.3.B - DASHBOARD TEACHER (Giảng viên chủ nhiệm)

**File:** `frontend/src/pages/teacher/ModernTeacherDashboard.js`

## a) Mô tả

Dashboard Teacher được thiết kế để giảng viên chủ nhiệm quản lý lớp phụ trách, phê duyệt hoạt động và đăng ký của sinh viên, xem báo cáo điểm rèn luyện. Giao diện tập trung vào workflow phê duyệt và theo dõi tiến độ lớp.

## b) Các thành phần chính

### 1. Header Section

```
- Tiêu đề: "Dashboard Giảng viên"
- Subtitle: "Quản lý lớp: LT_CNTT_K19A"
- Semester selector
- Semester closure widget (if applicable)
```

### 2. Modern Statistics Cards (6 cards with gradient)

**Card 1: Tổng sinh viên**
```
Icon: Users (blue gradient)
Value: 45 sinh viên
Subtitle: "Trong lớp phụ trách"
Change: "+3 so với HK trước"
Trend: up
Color: Blue (from-blue-500 to-blue-600)
Click → Navigate to /teacher/students
```

**Card 2: Hoạt động cần duyệt**
```
Icon: Clock (orange gradient)
Value: 8 hoạt động
Subtitle: "Chờ phê duyệt"
Badge: Red notification "8"
Color: Orange (from-orange-500 to-orange-600)
Click → Navigate to /teacher/approvals
```

**Card 3: Đăng ký chờ duyệt**
```
Icon: UserCheck (purple gradient)
Value: 12 đăng ký
Subtitle: "Từ sinh viên"
Badge: Red notification "12"
Color: Purple (from-purple-500 to-purple-600)
Click → Navigate to /teacher/registration-approvals
```

**Card 4: Điểm TB lớp**
```
Icon: Award (green gradient)
Value: 78.5 điểm
Subtitle: "Trung bình lớp"
Change: "+5.2 so với HK trước"
Trend: up
Color: Green (from-green-500 to-green-600)
Click → Navigate to /teacher/reports
```

**Card 5: Hoạt động đã duyệt**
```
Icon: CheckCircle (indigo gradient)
Value: 23 hoạt động
Subtitle: "Trong học kỳ này"
Color: Indigo (from-indigo-500 to-indigo-600)
Click → Navigate to /teacher/activities
```

**Card 6: Thông báo mới**
```
Icon: Bell (red gradient)
Value: 5 thông báo
Subtitle: "Chưa đọc"
Badge: Red dot
Color: Red (from-red-500 to-red-600)
Click → Navigate to /teacher/notifications
```

### 3. Quick Action Cards (4 cards)

```
Card 1: "Phê duyệt hoạt động"
  Icon: Activity
  Description: "Duyệt hoạt động do lớp trưởng tạo"
  Color: Blue hover effect
  Badge: "8 chờ duyệt"
  Action: Navigate to /teacher/activity-approvals

Card 2: "Phê duyệt đăng ký"
  Icon: UserCheck
  Description: "Duyệt đăng ký tham gia của sinh viên"
  Color: Green hover effect
  Badge: "12 chờ duyệt"
  Action: Navigate to /teacher/registration-approvals

Card 3: "Xem báo cáo điểm"
  Icon: BarChart3
  Description: "Thống kê điểm rèn luyện lớp"
  Color: Purple hover effect
  Action: Navigate to /teacher/reports

Card 4: "Quản lý sinh viên"
  Icon: Users
  Description: "Xem danh sách và thông tin SV"
  Color: Orange hover effect
  Action: Navigate to /teacher/students
```

### 4. Pending Approvals Section

**Hoạt động chờ duyệt (List):**
```
Mỗi item hiển thị:
  - Avatar hoặc icon hoạt động
  - Tên hoạt động (bold)
  - Người tạo: "Lớp trưởng LT000001"
  - Ngày tạo: "10/10/2024"
  - Số lượng: "50 người"
  - Điểm rèn luyện: "+10 điểm"
  - Actions:
    - Button "Duyệt" (green)
    - Button "Từ chối" (red)
    - Button "Xem chi tiết" (blue)

Pagination: 5 items per page
Empty state: "Không có hoạt động chờ duyệt"
```

### 5. Class Performance Chart

```
Chart type: Line chart (Recharts)
X-axis: Tháng (1-12)
Y-axis: Điểm trung bình (0-100)
Data:
  - Line 1: Điểm TB lớp (blue)
  - Line 2: Điểm TB toàn khoa (gray, dotted)
  
Legend: Show/hide toggle
Tooltip: Hiển thị giá trị khi hover
Responsive: Adjust height on mobile
```

### 6. Top Students Widget

```
Title: "Sinh viên xuất sắc"
Subtitle: "Top 5 sinh viên có điểm cao nhất"

List items:
  1. [🥇] Nguyễn Văn A - 95 điểm
  2. [🥈] Trần Thị B - 92 điểm  
  3. [🥉] Lê Văn C - 89 điểm
  4. [4] Phạm Thị D - 87 điểm
  5. [5] Hoàng Văn E - 85 điểm

Button: "Xem tất cả" → Navigate to /teacher/reports
```

## c) Layout

```
┌────────────────────────────────────────────────────────────────┐
│  DASHBOARD GIẢNG VIÊN              [Semester] [🔔] [👤 Teacher]│
│  Quản lý lớp: LT_CNTT_K19A                                     │
├────────────────────────────────────────────────────────────────┤
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐          │
│  │👥 SV: 45 │ │⏰ HD: 8  │ │👤 ĐK:12  │ │🎖 ĐTB:78 │          │
│  │  +3 ↗    │ │ [Badge]  │ │ [Badge]  │ │  +5.2 ↗  │          │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘          │
│  ┌──────────┐ ┌──────────┐                                     │
│  │✅ Đã:23  │ │🔔 TB: 5  │                                     │
│  └──────────┘ └──────────┘                                     │
│                                                                 │
│  THAO TÁC NHANH                                                │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐           │
│  │ Phê duyệt HD │ │ Phê duyệt ĐK │ │ Xem báo cáo  │           │
│  │ [8]          │ │ [12]         │ │              │           │
│  └──────────────┘ └──────────────┘ └──────────────┘           │
│                                                                 │
│  HOẠT ĐỘNG CHỜ DUYỆT                        [Xem tất cả →]    │
│  ┌──────────────────────────────────────────────────────────┐ │
│  │ 📊 Workshop AI & ML                                       │ │
│  │ Người tạo: LT000001 | 10/10/2024 | 50 người | +10 điểm   │ │
│  │ [Duyệt] [Từ chối] [Chi tiết]                             │ │
│  ├──────────────────────────────────────────────────────────┤ │
│  │ ⚽ Giải bóng đá khoa                                      │ │
│  │ Người tạo: LT000002 | 09/10/2024 | 30 người | +5 điểm    │ │
│  │ [Duyệt] [Từ chối] [Chi tiết]                             │ │
│  └──────────────────────────────────────────────────────────┘ │
│                                                                 │
│  ┌────────────────────────┐  ┌─────────────────────────────┐  │
│  │ BIỂU ĐỒ ĐIỂM TRUNG BÌNH│  │ SINH VIÊN XUẤT SẮC          │  │
│  │ [Line Chart]           │  │ 🥇 Nguyễn Văn A - 95 điểm   │  │
│  │ - Điểm TB lớp          │  │ 🥈 Trần Thị B - 92 điểm     │  │
│  │ - Điểm TB khoa         │  │ 🥉 Lê Văn C - 89 điểm       │  │
│  │                        │  │ 4  Phạm Thị D - 87 điểm     │  │
│  │                        │  │ 5  Hoàng Văn E - 85 điểm    │  │
│  │                        │  │ [Xem tất cả →]              │  │
│  └────────────────────────┘  └─────────────────────────────┘  │
└────────────────────────────────────────────────────────────────┘
```

## d) Interactions

### Phê duyệt hoạt động workflow:

```
1. Click "Duyệt" button
   → Show confirmation modal
   → "Bạn có chắc muốn phê duyệt hoạt động này?"
   → [Hủy] [Xác nhận]

2. Click "Xác nhận"
   → API call: POST /api/teacher/activities/:id/approve
   → Show loading spinner
   → On success:
     - Toast notification: "Phê duyệt thành công"
     - Remove item from list
     - Update badge count (-1)
     - Refresh statistics
   
3. Click "Từ chối" button
   → Show modal with textarea
   → "Lý do từ chối: _____"
   → [Hủy] [Gửi]
   → API call: POST /api/teacher/activities/:id/reject { reason }
   → On success:
     - Toast notification: "Đã từ chối hoạt động"
     - Send notification to creator với lý do
```

### Filter và Search:

```
Filter options:
  - Trạng thái: Tất cả | Chờ duyệt | Đã duyệt | Từ chối
  - Loại hoạt động: Tất cả | Học tập | Văn thể | Tình nguyện
  - Ngày tạo: Hôm nay | 7 ngày | 30 ngày | Tùy chỉnh

Search:
  - Placeholder: "Tìm theo tên hoạt động..."
  - Debounce: 500ms
  - Search fields: ten_hoat_dong, mo_ta
```

## e) Responsive behavior

**Mobile (< 768px):**
- Stats cards: 2 columns (3 rows)
- Quick actions: 1 column (stack)
- Pending list: Card view (full width)
- Chart: Reduce height to 250px
- Top students: Collapse to "Xem danh sách" button

**Tablet (768px - 1024px):**
- Stats cards: 3 columns (2 rows)
- Quick actions: 2 columns
- Pending list: Card view with 2 columns

**Desktop (> 1024px):**
- Stats cards: 3 columns (2 rows) or 6 columns (1 row)
- Quick actions: 4 columns
- Pending list: Table view or card grid
- Chart and Top students: Side by side (50/50)

## f) Special features

### Semester Closure Widget

```
Hiển thị khi học kỳ sắp khóa (< 7 ngày):
  
  ┌─────────────────────────────────────────────┐
  │ ⚠️ THÔNG BÁO QUAN TRỌNG                    │
  │                                             │
  │ Học kỳ HK1 2024-2025 sẽ kết thúc trong:    │
  │                                             │
  │         🕐 5 ngày 14 giờ 23 phút            │
  │                                             │
  │ Vui lòng hoàn thành phê duyệt trước hạn.   │
  │                                             │
  │ [Xem chi tiết] [Đã hiểu]                   │
  └─────────────────────────────────────────────┘

Color: Orange/Red gradient
Auto-hide: Khi click "Đã hiểu" (save to localStorage)
```

### Bulk Approval

```
Checkbox: Select multiple activities
Actions:
  - [Duyệt tất cả đã chọn]
  - [Từ chối tất cả đã chọn]
  
Confirmation:
  "Bạn có chắc muốn phê duyệt 5 hoạt động đã chọn?"
  
Progress:
  Show progress bar: "Đang xử lý 3/5..."
  
Result:
  Toast: "Đã phê duyệt 5/5 hoạt động thành công"
```

## g) Loading states

```
Initial load:
  - Skeleton loaders cho stats cards
  - Shimmer effect cho pending list
  - Spinner cho chart

Infinite scroll:
  - Load more pending items khi scroll đến cuối
  - "Đang tải thêm..." với spinner

Empty states:
  - No pending approvals:
    Icon: ✅ CheckCircle (green)
    Text: "Tuyệt vời! Không có hoạt động nào chờ duyệt"
    
  - No students:
    Icon: 📚 Users (gray)
    Text: "Chưa có sinh viên trong lớp"
    Button: "Thêm sinh viên"
```

## h) API endpoints used

```javascript
GET /api/teacher/dashboard
  → Returns: stats, pending activities, class performance

GET /api/teacher/activities/pending
  → Returns: List of activities waiting for approval

POST /api/teacher/activities/:id/approve
  → Approve activity

POST /api/teacher/activities/:id/reject
  Body: { reason: string }
  → Reject activity with reason

GET /api/teacher/students
  → Returns: List of students in class

GET /api/teacher/reports
  → Returns: Class performance data
```

---

**[Tiếp tục ở file: `5.1_GIAO_DIEN_MONITOR.md`]**
